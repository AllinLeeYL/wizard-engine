// Copyright 2021 Ben L. Titzer. All rights reserved.
// See LICENSE for details of Apache 2.0 license.

def OUT = Trace.OUT;
def X = WspOneRegistration.register(X86_64Linux_WspOneModule.new());

// Platform-specific implementation of "wasi_snapshot_preview1" module.
class X86_64Linux_WspOneModule extends WspOneModule {

	def proc_exit(args: Array<Value>) -> HostResult {
		Linux.syscall(LinuxConst.SYS_exit, Values.v_i(args[0]));
		return HostResult.Value0;
	}
}
